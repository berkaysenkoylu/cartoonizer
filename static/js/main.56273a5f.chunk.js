(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1:function(e,t,a){e.exports={DropContainer:"DragAndDrop_DropContainer__1YX85",DropContainerEnter:"DragAndDrop_DropContainerEnter__NOrkB",FileSelect:"DragAndDrop_FileSelect__2eZYD",ContentText:"DragAndDrop_ContentText__3E_4K",InvalidFileType:"DragAndDrop_InvalidFileType__3yNuW",ValidFileType:"DragAndDrop_ValidFileType__2DXiS"}},10:function(e,t,a){e.exports={App:"App_App__2vky1",AppHeader:"App_AppHeader__2BV_6"}},24:function(e,t,a){e.exports={Input:"File_Input__4-oIb"}},25:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3Dstx"}},28:function(e,t,a){e.exports=a(51)},3:function(e,t,a){e.exports={Button:"Button_Button__RG8Aw",ButtonPrimary:"Button_ButtonPrimary__1q0ks",ButtonSmall:"Button_ButtonSmall__D6J-Q",ButtonMedium:"Button_ButtonMedium__2EuZ7"}},33:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),i=a.n(o),l=(a(33),a(4)),s=a(10),c=a.n(s),d=a(6),p=a.n(d),u=a(7),m=a.n(u),f=function(e){return r.a.createElement("div",{className:m.a.Spinner},r.a.createElement("svg",{className:m.a.Circular,viewBox:"25 25 50 50"},r.a.createElement("circle",{className:m.a.Stroke,cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:e.strokeWidth})))},g=function(e){var t=null;return t=e.loading?r.a.createElement(f,{strokeWidth:3}):e.uploadedImage&&e.cartoonizedImage?r.a.createElement("section",{className:p.a.ImageContainer},r.a.createElement("img",{src:e.uploadedImage||"",alt:"Uploaded_image",className:p.a.Image}),r.a.createElement("img",{src:e.cartoonizedImage||"",alt:"Cartoonized_image",className:p.a.Image})):r.a.createElement("section",{className:p.a.ImageContainer},r.a.createElement("p",{style:{textAlign:"center"}},"Drag and drop / Select the image you want to cartoonize!")),r.a.createElement(r.a.Fragment,null,t)},_=a(20),E=a.n(_),v=a(8),h=a.n(v),C=a(3),D=a.n(C),F=function(e){var t=[D.a.Button,D.a.ButtonMedium,D.a.ButtonPrimary];switch(e.type){case"ButtonSmall":t=[D.a.Button,D.a.ButtonSmall,D.a.ButtonPrimary];break;case"ButtonMedium":default:t=[D.a.Button,D.a.ButtonMedium,D.a.ButtonPrimary]}return r.a.createElement("button",{className:t.join(" "),onClick:e.clicked},e.children)},S=a(21),T=a(22),y=a(26),N=a(23),I=a(27),B=a(1),k=a.n(B),L=a(24),j=a.n(L),O=function(e){var t=Object(n.useRef)();e.droppedFile&&(t.current.files=e.droppedFile);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",name:"image",id:"image",onChange:function(t){e.selectedFile(t.target.files[0])},ref:t,className:j.a.Input}),r.a.createElement(F,{clicked:function(e){e.preventDefault(),t.current.click()},type:"ButtonSmall"},"Select Image"))},H={"image/png":"png","image/jpeg":"jpeg","image/jpg":"jpg"},b=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(y.a)(this,Object(N.a)(t).call(this,e))).dropRef=Object(n.createRef)(),a.checkMimeType=function(e){return H[e]},a.resetState=function(){a.setState({classList:[k.a.DropContainer],content:"DRAG YOUR FILE HERE (.png, .jpeg, jpg)",contentClassList:[k.a.ContentText],dataTransferFiles:void 0,selectedFileName:void 0})},a.dragInHandler=function(e){if(e.preventDefault(),e.stopPropagation(),a.dragCounter++,a.setState((function(e){return{classList:e.classList.concat(k.a.DropContainerEnter)}})),e.dataTransfer.items&&e.dataTransfer.items.length>0)if(a.checkMimeType(e.dataTransfer.items[0].type)){var t=[k.a.ContentText,k.a.ValidFileType];a.setState((function(e){return{content:"DROP YOUR FILE HERE",contentClassList:t}}))}else{var n=[k.a.ContentText,k.a.InvalidFileType];a.setState((function(e){return{content:"INVALID FILE TYPE!",contentClassList:n}}))}},a.dragOutHandler=function(e){if(e.preventDefault(),e.stopPropagation(),a.dragCounter--,!(a.dragCounter>0))if(a.setState((function(e){return{classList:e.classList.filter((function(e){return e!==k.a.DropContainerEnter}))}})),void 0===a.state.selectedFileName||""===a.state.selectedFileName){var t=[k.a.ContentText];a.setState({content:"DRAG YOUR FILE HERE (.png, .jpeg, jpg)",contentClassList:t})}else{var n=[k.a.ContentText,k.a.ValidFileType];a.setState((function(e){return{classList:[k.a.DropContainer,k.a.DropContainerEnter],content:"Selected file: ".concat(a.state.selectedFileName),contentClassList:n}}))}},a.dragOverHandler=function(e){e.preventDefault(),e.stopPropagation()},a.dropHandler=function(e){if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items.length>0)if(a.checkMimeType(e.dataTransfer.items[0].type)){a.props.dropHandle(e.dataTransfer.files[0]),a.dragCounter=0;var t=e.dataTransfer.files[0].name;a.setState({classList:[k.a.DropContainer,k.a.DropContainerEnter],dataTransferFiles:e.dataTransfer.files,selectedFileName:t,content:"Selected file: ".concat(t)})}else a.props.file?void 0===a.state.selectedFileName&&""===a.state.selectedFileName||a.setState((function(e){var t=e.selectedFileName;return{classList:[k.a.DropContainer,k.a.DropContainerEnter],content:"Selected file: ".concat(t),contentClassList:[k.a.ContentText,k.a.ValidFileType],dataTransferFiles:e.dataTransferFiles,selectedFileName:t}})):(a.props.dropHandle(void 0),a.resetState())},a.fileSelectHandler=function(e){a.checkMimeType(e.type)&&(a.setState({classList:[k.a.DropContainer,k.a.DropContainerEnter],selectedFileName:e.name,content:"Selected file: ".concat(e.name),contentClassList:[k.a.ContentText,k.a.ValidFileType]}),a.props.fileSelect(e))},a.state={classList:[k.a.DropContainer],content:"DRAG YOUR FILE HERE (.png, .jpeg, jpg)",contentClassList:[k.a.ContentText],dataTransferFiles:void 0,selectedFileName:void 0},a.dragCounter=0,a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;e.addEventListener("dragenter",this.dragInHandler),e.addEventListener("dragleave",this.dragOutHandler),e.addEventListener("dragover",this.dragOverHandler),e.addEventListener("drop",this.dropHandler)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.dragInHandler),e.removeEventListener("dragleave",this.dragOutHandler),e.removeEventListener("dragover",this.dragOverHandler),e.removeEventListener("drop",this.dropHandler)}},{key:"componentDidUpdate",value:function(e,t){return e.file!==this.props.file&&void 0!==e.file&&void 0===this.props.file&&this.resetState(),e.file!==this.props.file&&void 0!==e.file&&void 0===this.props.file}},{key:"render",value:function(){var e=r.a.createElement("p",{className:this.state.contentClassList.join(" ")},this.state.content);return r.a.createElement("div",{className:this.state.classList.join(" "),ref:this.dropRef},e,r.a.createElement("div",{className:k.a.FileSelect},r.a.createElement(O,{selectedFile:this.fileSelectHandler,droppedFile:this.state.dataTransferFiles})))}}]),t}(n.Component),w="https://nameless-river-41426.herokuapp.com",x=function(e){var t=Object(n.useState)(void 0),a=Object(l.a)(t,2),o=a[0],i=a[1],s=function(e){i(e)};return r.a.createElement("section",{className:h.a.FileUpload},r.a.createElement("header",{className:h.a.FileUploadHeader},r.a.createElement("h2",null,"File Upload")),r.a.createElement("form",{onSubmit:function(t){t.preventDefault();e.loading(!0);var a=new FormData;a.append("file",o),E.a.post(w+"/file-upload",a,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return e.data})).then((function(t){if(201!==t.status)return e.loading(!1),void e.error(t.message);e.cartoonizeImage(w+t.path,w+t.cartoon_path),e.loading(!1),i(void 0)})).catch((function(e){return console.log(e)}))},className:h.a.Form},r.a.createElement(b,{dropHandle:s,file:o,fileSelect:s}),r.a.createElement(F,null,"Cartoonize")))},A=a(9),R=a.n(A),U=a(25),M=a.n(U),P=function(e){return i.a.createPortal(e.show?r.a.createElement("div",{className:M.a.Backdrop}):null,document.getElementById("backdrop-root"))},z=function(e){return i.a.createPortal(e.show?r.a.createElement("div",{className:R.a.ErrorDialogueContainer},r.a.createElement(P,{show:e.show}),r.a.createElement("div",{className:R.a.ErrorDialogue},r.a.createElement("p",null,e.errorMessage||"Something went wrong"),r.a.createElement("div",{className:R.a.ErrorDialogueCallToAction},r.a.createElement("button",{onClick:e.closed},"Close")))):null,document.getElementById("error-root"))},Y=function(){var e=Object(n.useState)({show:!1,message:""}),t=Object(l.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!1),s=Object(l.a)(i,2),d=s[0],p=s[1],u=Object(n.useState)(void 0),m=Object(l.a)(u,2),f=m[0],_=m[1],E=Object(n.useState)(""),v=Object(l.a)(E,2),h=v[0],C=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{show:a.show,errorMessage:a.message,closed:function(){o({show:!1,message:""})}}),r.a.createElement("main",{className:c.a.App},r.a.createElement("header",{className:c.a.AppHeader},r.a.createElement("h1",null,"CARTOONIZER")),r.a.createElement(g,{uploadedImage:f,cartoonizedImage:h,loading:d}),r.a.createElement(x,{cartoonizeImage:function(e,t){_(e),C(t)},loading:function(e){return p(e)},error:function(e){o({show:!0,message:e})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,a){e.exports={ImageContainer:"ShowCase_ImageContainer__2t0D8",Image:"ShowCase_Image__3lM2y"}},7:function(e,t,a){e.exports={Spinner:"Spinner_Spinner__uzz_n",Circular:"Spinner_Circular__3ahUC",rotate:"Spinner_rotate__3gNk0",Stroke:"Spinner_Stroke__Z49yY",dash:"Spinner_dash__t7223",color:"Spinner_color__UbC79"}},8:function(e,t,a){e.exports={FileUpload:"FileUpload_FileUpload__EQNX8",FileUploadHeader:"FileUpload_FileUploadHeader__2Q5jl",Form:"FileUpload_Form__12Z8g"}},9:function(e,t,a){e.exports={ErrorDialogueContainer:"ErrorDialogue_ErrorDialogueContainer__1HhSd",ErrorDialogue:"ErrorDialogue_ErrorDialogue__16brN",ErrorDialogueCallToAction:"ErrorDialogue_ErrorDialogueCallToAction__2Y-wr"}}},[[28,1,2]]]);
//# sourceMappingURL=main.56273a5f.chunk.js.map